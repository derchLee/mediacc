# å›½é™…åŒ–ï¼ˆi18nï¼‰å®æ–½æ–¹æ¡ˆ

## ğŸ“‹ é¡¹ç›®åˆ†æ

**æŠ€æœ¯æ ˆï¼š**
- Next.js 14.2.0 (App Router)
- TypeScript
- React 18
- Zustand (çŠ¶æ€ç®¡ç†)

**å½“å‰çŠ¶æ€ï¼š**
- æ‰€æœ‰æ–‡æœ¬å†…å®¹éƒ½æ˜¯ç¡¬ç¼–ç çš„ä¸­æ–‡
- ä½¿ç”¨ App Routerï¼ˆä¸æ˜¯ Pages Routerï¼‰
- çº¯å‰ç«¯åº”ç”¨ï¼ˆå®¢æˆ·ç«¯å¤„ç†ï¼‰

---

## ğŸ¯ æ¨èæ–¹æ¡ˆï¼šnext-intl

### ä¸ºä»€ä¹ˆé€‰æ‹© next-intlï¼Ÿ

1. **ä¸“ä¸º Next.js App Router è®¾è®¡**
   - åŸç”Ÿæ”¯æŒ App Router çš„æ–‡ä»¶ç³»ç»Ÿè·¯ç”±
   - ä¸ React Server Components å®Œç¾é›†æˆ
   - æ”¯æŒå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç»„ä»¶æ··åˆä½¿ç”¨

2. **ç°ä»£åŒ–ç‰¹æ€§**
   - TypeScript ç±»å‹å®‰å…¨
   - è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼ˆåŸºäºç¿»è¯‘æ–‡ä»¶ï¼‰
   - æ”¯æŒå¤æ•°ã€æ—¥æœŸæ ¼å¼åŒ–ã€æ•°å­—æ ¼å¼åŒ–ç­‰é«˜çº§åŠŸèƒ½
   - æ”¯æŒå‘½åç©ºé—´ï¼ˆnamespaceï¼‰ç®¡ç†ç¿»è¯‘

3. **SEO å‹å¥½**
   - æ”¯æŒåŸºäºè·¯å¾„çš„è¯­è¨€åˆ‡æ¢ï¼ˆ`/en/...`, `/zh/...`ï¼‰
   - æœåŠ¡ç«¯æ¸²æŸ“æ”¯æŒ
   - å¯ä»¥ä¿æŒ URL ä¸å˜ï¼Œé€šè¿‡ cookie/localStorage åˆ‡æ¢ï¼ˆå¯é€‰ï¼‰

4. **ç¤¾åŒºå’Œæ–‡æ¡£**
   - å®˜æ–¹æ–‡æ¡£å®Œå–„
   - GitHub æ´»è·ƒï¼ˆ3k+ starsï¼‰
   - å®šæœŸæ›´æ–°ç»´æŠ¤

---

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
npm install next-intl
```

**ç‰ˆæœ¬è¦æ±‚ï¼š**
- next-intl >= 3.0.0ï¼ˆæ”¯æŒ Next.js 14 App Routerï¼‰

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ–¹æ¡ˆä¸€ï¼šåŸºäºè·¯å¾„çš„è¯­è¨€åˆ‡æ¢ï¼ˆæ¨èï¼‰

**URL ç»“æ„ï¼š**
- ä¸­æ–‡ï¼š`/zh/image`, `/zh/video`
- è‹±æ–‡ï¼š`/en/image`, `/en/video`
- é»˜è®¤ï¼šè‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼Œé‡å®šå‘åˆ°å¯¹åº”è¯­è¨€è·¯å¾„

**ä¼˜ç‚¹ï¼š**
- SEO å‹å¥½ï¼Œæœç´¢å¼•æ“å¯ä»¥è¯†åˆ«ä¸åŒè¯­è¨€ç‰ˆæœ¬
- URL æ¸…æ™°è¡¨æ˜è¯­è¨€
- æ”¯æŒç›´æ¥åˆ†äº«ç‰¹å®šè¯­è¨€é“¾æ¥

**ç¼ºç‚¹ï¼š**
- éœ€è¦è°ƒæ•´æ‰€æœ‰è·¯ç”±ç»“æ„ï¼ˆæ·»åŠ  `[locale]` æ®µï¼‰

### æ–¹æ¡ˆäºŒï¼šåŸºäºçŠ¶æ€çš„è¯­è¨€åˆ‡æ¢ï¼ˆç®€åŒ–ç‰ˆï¼‰

**URL ç»“æ„ï¼š**
- ä¿æŒä¸å˜ï¼š`/image`, `/video`
- è¯­è¨€å­˜å‚¨åœ¨ cookie/localStorage

**ä¼˜ç‚¹ï¼š**
- æ— éœ€ä¿®æ”¹ç°æœ‰è·¯ç”±ç»“æ„
- å®ç°æ›´ç®€å•

**ç¼ºç‚¹ï¼š**
- SEO ä¸å¤Ÿå‹å¥½
- æ— æ³•é€šè¿‡ URL ç›´æ¥æŒ‡å®šè¯­è¨€

**æ¨èä½¿ç”¨æ–¹æ¡ˆä¸€**ï¼ˆåŸºäºè·¯å¾„ï¼‰ï¼Œæ›´ç¬¦åˆ Next.js æœ€ä½³å®è·µã€‚

---

## ğŸ“ æ–‡ä»¶ç»“æ„è§„åˆ’

```
mediacc/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ [locale]/              # æ–°å¢ï¼šè¯­è¨€è·¯ç”±æ®µ
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx         # è¯­è¨€å¸ƒå±€ï¼ˆæ›¿æ¢æ ¹ layout.tsxï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µï¼ˆé‡å®šå‘åˆ° /[locale]/imageï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ image/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ video/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ layout.tsx             # æ ¹å¸ƒå±€ï¼ˆä»…åŒ…å«è¯­è¨€æä¾›è€…ï¼‰
â”‚   â”‚   â””â”€â”€ ...                    # å…¶ä»–è·¯ç”±ä¿æŒä¸å˜ï¼ˆå¦‚æœ‰ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ messages/                  # æ–°å¢ï¼šç¿»è¯‘æ–‡ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ en.json                # è‹±æ–‡ç¿»è¯‘
â”‚   â”‚   â””â”€â”€ zh.json                # ä¸­æ–‡ç¿»è¯‘
â”‚   â”‚
â”‚   â”œâ”€â”€ i18n/                      # æ–°å¢ï¼ši18n é…ç½®ç›®å½•
â”‚   â”‚   â”œâ”€â”€ config.ts              # next-intl é…ç½®
â”‚   â”‚   â””â”€â”€ request.ts             # æœåŠ¡ç«¯è¯·æ±‚é…ç½®ï¼ˆç”¨äº middlewareï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ LanguageSwitcher.tsx   # æ–°å¢ï¼šè¯­è¨€åˆ‡æ¢ç»„ä»¶
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ middleware.ts              # æ–°å¢ï¼šä¸­é—´ä»¶ï¼ˆå¤„ç†è¯­è¨€æ£€æµ‹å’Œé‡å®šå‘ï¼‰
â”‚
â””â”€â”€ next.config.js                 # å¯èƒ½éœ€è¦è°ƒæ•´é…ç½®
```

---

## ğŸ”§ å®æ–½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…å’ŒåŸºç¡€é…ç½®

1. **å®‰è£… next-intl**
   ```bash
   npm install next-intl
   ```

2. **åˆ›å»ºç¿»è¯‘æ–‡ä»¶**
   - åˆ›å»º `src/messages/en.json`
   - åˆ›å»º `src/messages/zh.json`
   - æŒ‰æ¨¡å—ç»„ç»‡ç¿»è¯‘ key

3. **åˆ›å»º i18n é…ç½®æ–‡ä»¶**
   - `src/i18n/config.ts`ï¼šå®šä¹‰æ”¯æŒçš„è¯­è¨€åˆ—è¡¨ã€é»˜è®¤è¯­è¨€ç­‰
   - `src/i18n/request.ts`ï¼šæœåŠ¡ç«¯è¯·æ±‚é…ç½®

### ç¬¬äºŒæ­¥ï¼šè·¯ç”±ç»“æ„è°ƒæ•´

1. **åˆ›å»º `[locale]` è·¯ç”±æ®µ**
   - å°†æ‰€æœ‰é¡µé¢ç§»åŠ¨åˆ° `src/app/[locale]/` ä¸‹
   - ä¿æŒåŸæœ‰ç›®å½•ç»“æ„ï¼ˆ`image/`, `video/` ç­‰ï¼‰

2. **åˆ›å»ºè¯­è¨€å¸ƒå±€**
   - `src/app/[locale]/layout.tsx`ï¼šåŒ…å« next-intl æä¾›è€…

3. **åˆ›å»ºæ ¹å¸ƒå±€**
   - `src/app/layout.tsx`ï¼šä»…åŒ…å« `<html>` å’Œ `<body>`ï¼Œä¸åŒ…å«è¯­è¨€é€»è¾‘

### ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰

**æ–‡ä»¶ï¼š`src/middleware.ts`**
- æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼ˆ`Accept-Language` headerï¼‰
- æ£€æµ‹ URL è·¯å¾„ä¸­çš„è¯­è¨€
- æ£€æµ‹ cookie/localStorage ä¸­çš„ç”¨æˆ·é€‰æ‹©
- è‡ªåŠ¨é‡å®šå‘åˆ°æ­£ç¡®çš„è¯­è¨€è·¯å¾„
- ä¼˜å…ˆçº§ï¼šURL > Cookie > æµè§ˆå™¨è¯­è¨€ > é»˜è®¤è¯­è¨€

**è¯­è¨€æ£€æµ‹é€»è¾‘ï¼š**
- ä¸­æ–‡ç³»ç»Ÿï¼ˆ`zh-CN`, `zh-TW`, `zh`ï¼‰â†’ é‡å®šå‘åˆ° `/zh`
- å…¶ä»–ç³»ç»Ÿ â†’ é‡å®šå‘åˆ° `/en`
- å¦‚æœ URL å·²ç»åŒ…å«è¯­è¨€ï¼ˆå¦‚ `/zh/image`ï¼‰ï¼Œä¿æŒä¸å˜

### ç¬¬å››æ­¥ï¼šåˆ›å»ºè¯­è¨€åˆ‡æ¢ç»„ä»¶

**æ–‡ä»¶ï¼š`src/components/LanguageSwitcher.tsx`**
- æä¾›è¯­è¨€åˆ‡æ¢ UIï¼ˆä¸‹æ‹‰èœå•æˆ–æŒ‰é’®ç»„ï¼‰
- åˆ‡æ¢æ—¶æ›´æ–° URL è·¯å¾„
- ä¿å­˜ç”¨æˆ·é€‰æ‹©åˆ° cookieï¼ˆå¯é€‰ï¼‰

**UI ä½ç½®å»ºè®®ï¼š**
- æ”¾åœ¨ `MainLayout` ç»„ä»¶çš„æ ‡é¢˜åŒºåŸŸå³ä¸Šè§’
- æˆ–æ”¾åœ¨ Settings é¡µé¢

### ç¬¬äº”æ­¥ï¼šç¿»è¯‘ç°æœ‰æ–‡æœ¬

1. **æå–æ‰€æœ‰ç¡¬ç¼–ç æ–‡æœ¬**
   - æ‰«ææ‰€æœ‰ç»„ä»¶ï¼Œæ‰¾å‡ºéœ€è¦ç¿»è¯‘çš„æ–‡æœ¬
   - åˆ†ç±»æ•´ç†ï¼ˆé€šç”¨ã€å›¾ç‰‡å¤„ç†ã€è§†é¢‘å¤„ç†ã€é”™è¯¯æç¤ºç­‰ï¼‰

2. **åˆ›å»ºç¿»è¯‘ key å‘½åè§„èŒƒ**
   ```
   {
     "common": {                    // é€šç”¨
       "appName": "MediaCC",
       "localProcessing": "100% æœ¬åœ°å¤„ç†"
     },
     "navigation": {                // å¯¼èˆª
       "imageTab": "å›¾ç‰‡å¤„ç†",
       "videoTab": "è§†é¢‘å¤„ç†"
     },
     "image": {                     // å›¾ç‰‡ç›¸å…³
       "upload": "ä¸Šä¼ å›¾ç‰‡",
       "convert": "æ ¼å¼è½¬æ¢",
       "compress": "å‹ç¼©"
     },
     "video": { ... },
     "errors": { ... }              // é”™è¯¯æç¤º
   }
   ```

3. **é€æ­¥æ›¿æ¢ç¡¬ç¼–ç æ–‡æœ¬**
   - ä½¿ç”¨ `useTranslations()` hook è·å–ç¿»è¯‘å‡½æ•°
   - æ›¿æ¢æ‰€æœ‰æ–‡æœ¬å­—ç¬¦ä¸²

### ç¬¬å…­æ­¥ï¼šå¤„ç†åŠ¨æ€å†…å®¹

**éœ€è¦ç‰¹æ®Šå¤„ç†çš„åœºæ™¯ï¼š**

1. **æ–‡ä»¶æ ¼å¼åç§°**
   - æ ¼å¼åç§°ï¼ˆJPG, PNG, WebPï¼‰é€šå¸¸ä¿æŒä¸å˜
   - æ ¼å¼æè¿°å¯ä»¥ç¿»è¯‘

2. **é”™è¯¯æ¶ˆæ¯**
   - æ‰€æœ‰é”™è¯¯æç¤ºéƒ½éœ€è¦ç¿»è¯‘
   - åŠ¨æ€é”™è¯¯æ¶ˆæ¯ä½¿ç”¨å‚æ•°åŒ–ç¿»è¯‘

3. **æ—¥æœŸå’Œæ—¶é—´**
   - ä½¿ç”¨ next-intl çš„æ—¥æœŸæ ¼å¼åŒ–åŠŸèƒ½
   - è‡ªåŠ¨é€‚é…è¯­è¨€ä¹ æƒ¯

---

## ğŸ“ ç¿»è¯‘æ–‡ä»¶ç¤ºä¾‹

### `src/messages/en.json`

```json
{
  "common": {
    "appName": "MediaCC",
    "subtitle": "Local Media Conversion & Compression Tool",
    "localProcessing": "100% Local Processing",
    "selectOperation": "Select Operation",
    "startConversion": "Start Conversion",
    "converting": "Converting...",
    "download": "Download",
    "remove": "Remove"
  },
  "navigation": {
    "imageTab": "Image Processing",
    "videoTab": "Video Processing"
  },
  "upload": {
    "dragDrop": "Drag and drop files here, or click to select",
    "selectFiles": "Select Files",
    "privacyNote": "100% local processing, files are not uploaded to the server"
  },
  "image": {
    "convertTitle": "Convert Format",
    "compressTitle": "Compress",
    "selectTargetFormat": "Select Target Format",
    "lossless": "Lossless",
    "lossy": "Lossy"
  },
  "errors": {
    "fileLoadError": "Unable to load file",
    "conversionFailed": "Conversion failed",
    "unsupportedFormat": "Browser does not support {format} format"
  }
}
```

### `src/messages/zh.json`

```json
{
  "common": {
    "appName": "MediaCC",
    "subtitle": "æœ¬åœ°åª’ä½“è½¬æ¢ä¸å‹ç¼©å·¥å…·",
    "localProcessing": "100% æœ¬åœ°å¤„ç†",
    "selectOperation": "é€‰æ‹©æ“ä½œ",
    "startConversion": "å¼€å§‹è½¬æ¢",
    "converting": "è½¬æ¢ä¸­...",
    "download": "ä¸‹è½½",
    "remove": "åˆ é™¤"
  },
  "navigation": {
    "imageTab": "å›¾ç‰‡å¤„ç†",
    "videoTab": "è§†é¢‘å¤„ç†"
  },
  "upload": {
    "dragDrop": "æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„ï¼Œæˆ–ç‚¹å‡»é€‰æ‹©",
    "selectFiles": "é€‰æ‹©æ–‡ä»¶",
    "privacyNote": "100% æœ¬åœ°å¤„ç†ï¼Œæ–‡ä»¶ä¸ä¼šä¸Šä¼ åˆ°æœåŠ¡å™¨"
  },
  "image": {
    "convertTitle": "æ ¼å¼è½¬æ¢",
    "compressTitle": "å‹ç¼©",
    "selectTargetFormat": "é€‰æ‹©ç›®æ ‡æ ¼å¼",
    "lossless": "æ— æŸ",
    "lossy": "æœ‰æŸ"
  },
  "errors": {
    "fileLoadError": "æ— æ³•åŠ è½½æ–‡ä»¶",
    "conversionFailed": "è½¬æ¢å¤±è´¥",
    "unsupportedFormat": "æµè§ˆå™¨ä¸æ”¯æŒ {format} æ ¼å¼"
  }
}
```

---

## ğŸ¨ UI ç»„ä»¶ä½¿ç”¨ç¤ºä¾‹

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘

```typescript
// Client Component
"use client";
import { useTranslations } from 'next-intl';

export function MainLayout({ children }) {
  const t = useTranslations('common');
  const tNav = useTranslations('navigation');

  return (
    <div>
      <h1>{t('appName')}</h1>
      <p>{t('subtitle')}</p>
      <button>{tNav('imageTab')}</button>
    </div>
  );
}
```

### å¸¦å‚æ•°çš„ç¿»è¯‘

```typescript
const t = useTranslations('errors');
const errorMessage = t('unsupportedFormat', { format: 'HEIC' });
// ä¸­æ–‡ï¼šæµè§ˆå™¨ä¸æ”¯æŒ HEIC æ ¼å¼
// è‹±æ–‡ï¼šBrowser does not support HEIC format
```

---

## âš™ï¸ é…ç½®æ–‡ä»¶ç¤ºä¾‹

### `src/i18n/config.ts`

```typescript
import { getRequestConfig } from 'next-intl/server';

export const locales = ['en', 'zh'] as const;
export type Locale = (typeof locales)[number];

export default getRequestConfig(async ({ locale }) => ({
  messages: (await import(`../../messages/${locale}.json`)).default
}));
```

### `src/middleware.ts`

```typescript
import createMiddleware from 'next-intl/middleware';
import { locales } from './i18n/config';

export default createMiddleware({
  locales,
  defaultLocale: 'zh',
  localeDetection: true, // è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€
  localePrefix: 'always' // å§‹ç»ˆåœ¨ URL ä¸­åŒ…å«è¯­è¨€å‰ç¼€
});

export const config = {
  matcher: ['/((?!api|_next|.*\\..*).*)']
};
```

---

## ğŸ”„ è¯­è¨€åˆ‡æ¢æµç¨‹

1. **é¦–æ¬¡è®¿é—®**
   - ç”¨æˆ·è®¿é—® `/` æˆ– `/image`
   - Middleware æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼ˆ`Accept-Language`ï¼‰
   - å¦‚æœæ˜¯ä¸­æ–‡ç³»ç»Ÿ â†’ é‡å®šå‘åˆ° `/zh/image`
   - å¦‚æœæ˜¯è‹±æ–‡ç³»ç»Ÿ â†’ é‡å®šå‘åˆ° `/en/image`

2. **ç”¨æˆ·æ‰‹åŠ¨åˆ‡æ¢**
   - ç‚¹å‡»è¯­è¨€åˆ‡æ¢æŒ‰é’®ï¼ˆä¸­æ–‡/Englishï¼‰
   - è·å–å½“å‰è·¯å¾„ï¼š`/zh/image`
   - æ›¿æ¢è¯­è¨€æ®µï¼š`/en/image`
   - ä½¿ç”¨ `router.push()` å¯¼èˆªåˆ°æ–°è·¯å¾„
   - ï¼ˆå¯é€‰ï¼‰ä¿å­˜é€‰æ‹©åˆ° cookie

3. **å†æ¬¡è®¿é—®**
   - å¦‚æœæœ‰ cookie ä¿å­˜çš„è¯­è¨€åå¥½ï¼Œä¼˜å…ˆä½¿ç”¨
   - å¦åˆ™ä½¿ç”¨æµè§ˆå™¨è¯­è¨€æ£€æµ‹

---

## ğŸ“‹ éœ€è¦ç¿»è¯‘çš„æ–‡æœ¬æ¸…å•

### ä¸»è¦æ¨¡å—ï¼š

1. **MainLayout**
   - åº”ç”¨åç§°ã€å‰¯æ ‡é¢˜
   - Tab æ ‡ç­¾ï¼ˆå›¾ç‰‡å¤„ç†ã€è§†é¢‘å¤„ç†ï¼‰
   - "100% æœ¬åœ°å¤„ç†" æç¤º

2. **FileUploader**
   - æ‹–æ‹½æç¤ºæ–‡æœ¬
   - æŒ‰é’®æ–‡æœ¬
   - é”™è¯¯æç¤º

3. **OperationSelector**
   - æ“ä½œé€‰é¡¹ï¼ˆæ ¼å¼è½¬æ¢ã€å‹ç¼©ï¼‰
   - æ“ä½œæè¿°

4. **ConversionSettings**
   - è®¾ç½®æ ‡é¢˜
   - æ ¼å¼é€‰æ‹©
   - å‹ç¼©æ¨¡å¼ï¼ˆæ— æŸ/æœ‰æŸï¼‰
   - æŒ‰é’®æ–‡æœ¬

5. **FilePreviewList**
   - æ–‡ä»¶ä¿¡æ¯ï¼ˆå¤§å°ã€æ ¼å¼ç­‰ï¼‰
   - æ“ä½œæŒ‰é’®

6. **é”™è¯¯å’Œæç¤ºæ¶ˆæ¯**
   - æ‰€æœ‰é”™è¯¯æç¤º
   - æˆåŠŸæç¤º
   - å¤„ç†è¿›åº¦æç¤º

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è·¯ç”±è¿ç§»**
   - éœ€è¦å°†æ‰€æœ‰é¡µé¢ç§»åŠ¨åˆ° `[locale]` ä¸‹
   - è¿™æ˜¯æœ€å¤§çš„æ”¹åŠ¨ç‚¹ï¼Œéœ€è¦ä»”ç»†è¿ç§»

2. **é“¾æ¥æ›´æ–°**
   - æ‰€æœ‰å†…éƒ¨é“¾æ¥ï¼ˆ`<Link>`ï¼‰éœ€è¦åŒ…å«è¯­è¨€å‰ç¼€
   - æˆ–ä½¿ç”¨ next-intl çš„ `Link` ç»„ä»¶è‡ªåŠ¨å¤„ç†

3. **ç±»å‹å®‰å…¨**
   - next-intl æ”¯æŒ TypeScript ç±»å‹æ¨å¯¼
   - ç¡®ä¿ç¿»è¯‘ key å­˜åœ¨ï¼Œé¿å…è¿è¡Œæ—¶é”™è¯¯

4. **æ€§èƒ½è€ƒè™‘**
   - ç¿»è¯‘æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨ä»£ç åˆ†å‰²
   - åªåŠ è½½å½“å‰è¯­è¨€éœ€è¦çš„ç¿»è¯‘

5. **æµ‹è¯•**
   - æµ‹è¯•è¯­è¨€åˆ‡æ¢åŠŸèƒ½
   - æµ‹è¯• URL é‡å®šå‘
   - æµ‹è¯•æµè§ˆå™¨è¯­è¨€æ£€æµ‹
   - æµ‹è¯•æ‰€æœ‰é¡µé¢çš„ä¸­è‹±æ–‡æ˜¾ç¤º

---

## ğŸš€ å®æ–½ä¼˜å…ˆçº§

### Phase 1ï¼šåŸºç¡€è®¾ç½®ï¼ˆ1-2 å°æ—¶ï¼‰
- [ ] å®‰è£… next-intl
- [ ] åˆ›å»ºç¿»è¯‘æ–‡ä»¶ç»“æ„
- [ ] åˆ›å»ºä¸­é—´ä»¶å’Œé…ç½®

### Phase 2ï¼šè·¯ç”±è¿ç§»ï¼ˆ2-3 å°æ—¶ï¼‰
- [ ] åˆ›å»º `[locale]` è·¯ç”±ç»“æ„
- [ ] è¿ç§»æ‰€æœ‰é¡µé¢åˆ°æ–°ç»“æ„
- [ ] æ›´æ–°æ‰€æœ‰å†…éƒ¨é“¾æ¥

### Phase 3ï¼šè¯­è¨€åˆ‡æ¢åŠŸèƒ½ï¼ˆ1 å°æ—¶ï¼‰
- [ ] åˆ›å»ºè¯­è¨€åˆ‡æ¢ç»„ä»¶
- [ ] é›†æˆåˆ° MainLayout
- [ ] æµ‹è¯•åˆ‡æ¢åŠŸèƒ½

### Phase 4ï¼šç¿»è¯‘å†…å®¹ï¼ˆ3-5 å°æ—¶ï¼‰
- [ ] æå–æ‰€æœ‰ç¡¬ç¼–ç æ–‡æœ¬
- [ ] åˆ›å»ºå®Œæ•´ç¿»è¯‘æ–‡ä»¶
- [ ] é€æ­¥æ›¿æ¢ç»„ä»¶ä¸­çš„æ–‡æœ¬

### Phase 5ï¼šæµ‹è¯•å’Œä¼˜åŒ–ï¼ˆ1-2 å°æ—¶ï¼‰
- [ ] æµ‹è¯•æ‰€æœ‰åŠŸèƒ½
- [ ] ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- [ ] ä¿®å¤é—®é¢˜

**æ€»é¢„è®¡æ—¶é—´ï¼š8-13 å°æ—¶**

---

## ğŸ“š å‚è€ƒèµ„æº

- [next-intl å®˜æ–¹æ–‡æ¡£](https://next-intl.dev/)
- [Next.js å›½é™…åŒ–æŒ‡å—](https://nextjs.org/docs/pages/guides/internationalization)
- [next-intl GitHub](https://github.com/amannn/next-intl)

---

## âœ… å†³ç­–æ¸…å•

åœ¨å¼€å§‹å®æ–½å‰ï¼Œç¡®è®¤ä»¥ä¸‹å†³ç­–ï¼š

- [x] **æ–¹æ¡ˆé€‰æ‹©**ï¼šæ–¹æ¡ˆä¸€ï¼ˆåŸºäºè·¯å¾„çš„è¯­è¨€åˆ‡æ¢ï¼‰
- [x] **åº“é€‰æ‹©**ï¼šnext-intl
- [x] **æ”¯æŒè¯­è¨€**ï¼šä¸­æ–‡ï¼ˆzhï¼‰ã€è‹±æ–‡ï¼ˆenï¼‰
- [x] **é»˜è®¤è¯­è¨€**ï¼šä¸­æ–‡ï¼ˆzhï¼‰
- [x] **è¯­è¨€æ£€æµ‹ä¼˜å…ˆçº§**ï¼šURL > Cookie > æµè§ˆå™¨è¯­è¨€ > é»˜è®¤è¯­è¨€
- [ ] **æ˜¯å¦ä½¿ç”¨ cookie å­˜å‚¨ç”¨æˆ·é€‰æ‹©**ï¼šå»ºè®®æ˜¯
- [ ] **è¯­è¨€åˆ‡æ¢ UI ä½ç½®**ï¼šå»ºè®®åœ¨ MainLayout æ ‡é¢˜åŒºåŸŸ

---

## ğŸ’¡ æ›¿ä»£æ–¹æ¡ˆï¼ˆå¦‚æœä¸æƒ³ä½¿ç”¨ next-intlï¼‰

å¦‚æœè§‰å¾— next-intl è¿‡äºå¤æ‚ï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **react-i18next**ï¼ˆæ›´æˆç†Ÿä½†é…ç½®è¾ƒå¤æ‚ï¼‰
2. **è‡ªå®šä¹‰ Context + Hook æ–¹æ¡ˆ**ï¼ˆæœ€çµæ´»ä½†éœ€è¦è‡ªå·±å®ç°ï¼‰
3. **ç®€å•é”®å€¼å¯¹æ–¹æ¡ˆ**ï¼ˆæœ€è½»é‡ä½†åŠŸèƒ½æœ‰é™ï¼‰

ä½†åŸºäºæ‚¨çš„é¡¹ç›®éœ€æ±‚ï¼ˆNext.js 14 + App Routerï¼‰ï¼Œ**next-intl ä»ç„¶æ˜¯æœ€ä½³é€‰æ‹©**ã€‚
